:root{
    --card-perspective: 900px;
    --card-z-offset: 16px;
    --card-y-offset: 10px;
    --card-max-z-index: 100;
    --card-swap-duration: 0.32s;

    --swipe-x: 0px;
    --swipe-rotate: 0deg;

    --stack-w: clamp(280px, 78vw, 520px);
    --stack-h: clamp(380px, 78vh, 620px);

    --r: 22px;
}

/* Обычное начертание */
@font-face {
    font-family: 'HeliosExt';
    src: url('../fonts/heliosext.otf') format('opentype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

/* Жирное начертание */
@font-face {
    font-family: 'HeliosExt';
    src: url('../fonts/heliosext_bold.otf') format('opentype');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
}


*{ box-sizing:border-box; }
html,body{
    height:100%;
}
body{
    margin:0;
    font-family: 'HeliosExt', sans-serif;
    font-weight: normal; /* Использует heliosext.otf */
    color:#f2f2f2;
    background-image: url("../img/506.png");
    overflow-x: clip;
}

/* фон как на скрине: мягкая виньетка + зерно */
.stage{
    min-height:100%;
    display:grid;
    place-items:center;
    padding: 28px 16px 22px;
    position:relative;
    background-image: url("../img/509.png");
    background-size: cover;      /* растянуть на весь экран */
    background-position: center; /* центрировать */
    background-repeat: no-repeat;
    background-attachment: fixed;
    /*background:*/
    /*        radial-gradient(1000px 600px at 25% 35%, rgba(255,255,255,0.14), rgba(255,255,255,0) 55%),*/
    /*        radial-gradient(900px 700px at 70% 35%, rgba(255,255,255,0.10), rgba(255,255,255,0) 62%),*/
    /*        radial-gradient(900px 700px at 50% 70%, rgba(0,0,0,0.55), rgba(0,0,0,0.85) 65%),*/
    /*        linear-gradient(180deg, #1d1d1f 0%, #141416 100%);*/
}

.stage::before{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    opacity:.22;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='240' height='240' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
    mix-blend-mode: overlay;
    filter: contrast(120%) brightness(95%);
}

/* стопка */
.card-stack{
    width: var(--stack-w);
    height: var(--stack-h);
    position: relative;
    user-select: none;
    touch-action: none;
    transform-style: preserve-3d;
}

/* карточка */
.card{
    position:absolute;
    inset: 0;
    width: calc(100% - 22px);
    height: calc(100% - 22px);
    margin:auto;
    border-radius: var(--r);
    z-index: calc(var(--card-max-z-index) - var(--i));
    transform:
            perspective(var(--card-perspective))
            translateZ(calc(-1 * var(--card-z-offset) * var(--i)))
            translateY(calc(var(--card-y-offset) * var(--i)))
            translateX(var(--swipe-x, 0px))
            rotateY(var(--swipe-rotate, 0deg));
    transition: transform var(--card-swap-duration) ease, opacity var(--card-swap-duration) ease;
    will-change: transform, opacity;
    backface-visibility: hidden;

    background:
            radial-gradient(900px 600px at 50% 35%, rgba(255,255,255,0.10), rgba(255,255,255,0) 60%),
            linear-gradient(180deg, rgba(18,18,20,0.88), rgba(8,8,10,0.92));
    backdrop-filter: blur(12px) saturate(120%);
    -webkit-backdrop-filter: blur(12px) saturate(120%);

    border: 1px solid rgba(255,255,255,0.16);
    box-shadow: 0 22px 50px rgba(0,0,0,0.55);
    overflow:hidden;

}

/* показываем контент только у верхней карточки */
.card > *{
    transition: opacity var(--card-swap-duration) ease, transform var(--card-swap-duration) ease;
}
.card.is-active > *{
    opacity: 1;
    transform: none;
}
.card.is-behind{
    pointer-events: none;
}
.card.is-behind > *{
    opacity: 0;
    transform: translateY(6px) scale(0.985);
}

.card::after{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    opacity:.55;
    background:
            radial-gradient(1.2px 1.2px at 20% 30%, rgba(255,255,255,0.35), rgba(255,255,255,0) 60%),
            radial-gradient(1.2px 1.2px at 70% 55%, rgba(255,255,255,0.22), rgba(255,255,255,0) 60%),
            radial-gradient(1.2px 1.2px at 45% 70%, rgba(255,255,255,0.18), rgba(255,255,255,0) 60%);
    filter: blur(.2px);
}

/* кнопки */
.pill-btn{
    border: 0;
    position: relative;
    overflow: hidden;
    cursor:pointer;
    color:#eaeaea;
    margin-top: 24px;
    background: rgba(255,255,255,0.10);
    border: 1px solid rgba(255,255,255,0.18);
    padding: 14px 22px;
    border-radius: 999px;
    font-weight: 600;
    font-size: 18px;
    letter-spacing: .2px;
    backdrop-filter: blur(8px);
    /*transition: transform .15s ease, background .15s ease;*/
    transform: translateZ(0);
    transition:
            transform .18s ease,
            background .18s ease,
            border-color .18s ease,
            box-shadow .18s ease,
            filter .18s ease;
}
/*.pill-btn{*/
/*    position: relative;*/
/*    overflow: hidden;*/
/*    transform: translateZ(0);*/
/*    transition:*/
/*            transform .18s ease,*/
/*            background .18s ease,*/
/*            border-color .18s ease,*/
/*            box-shadow .18s ease,*/
/*            filter .18s ease;*/
/*}*/

/* мягкий блик при наведении */
.pill-btn::before{
    content:"";
    position:absolute;
    inset:-40%;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), rgba(255,255,255,0) 55%);
    transition: opacity .2s ease;
    pointer-events:none;
}

.pill-btn:hover{
    cursor: pointer;
    transform: translateY(-2px);
    background: rgba(255,255,255,0.16);
    border-color: rgba(255,255,255,0.26);
    box-shadow:
            0 12px 28px rgba(0,0,0,0.45),
            0 0 0 1px rgba(255,255,255,0.10) inset;
    filter: saturate(1.05);
}

.pill-btn:hover::before{
    opacity: 1;
}

.pill-btn:active{
    transform: translateY(0px) scale(0.98);
    background: rgba(255,255,255,0.14);
}

/* фокус с клавиатуры (Tab) */
.pill-btn:focus-visible{
    outline: none;
    box-shadow:
            0 12px 28px rgba(0,0,0,0.45),
            0 0 0 3px rgba(255,255,255,0.18);
}


.ghost-btn{
    display:inline-block;
    padding: 14px 18px;
    border-radius: 999px;
    color:#eaeaea;
    text-decoration:none;
    border: 1px solid rgba(255,255,255,0.14);
    background: rgba(0,0,0,0.18);
}

/* CARD 1 */
.card--welcome{
    background: radial-gradient(700px 420px at 50% 45%, rgba(255,255,255,0.08), rgba(255,255,255,0) 58%),
    linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
}
.panel{
    height:100%;
    display:grid;
    place-items:center;
    padding: 28px;
    border: 1px solid rgb(255, 255, 255);
    background-image: url("../img/Safer.png"); /* ВАЖНО: ../ */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}
.panel__frame{
    width: min(320px, 70%);
    aspect-ratio: 3 / 4;
    /*border-radius: 26px;*/
    /*background: rgba(0,0,0,0.32);*/
    /*border: 1px solid rgba(255,255,255,0.20);*/
    /*box-shadow: inset 0 0 0 8px rgba(255,255,255,0.06);*/
    display:grid;
    place-items:center;
    position:relative;
}
.panel__inner{
    width: calc(100% - 26px);
    height: calc(100% - 26px);
    background-image: url("img/Safer.png");
    /*border-radius: 22px;*/
    /*border: 1px solid rgba(255,255,255,0.20);*/
    /*background:*/
    /*        radial-gradient(500px 320px at 50% 40%, rgba(255,255,255,0.08), rgba(0,0,0,0) 58%),*/
    /*        linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.75));*/
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    gap: 16px;
    padding: 18px;
    text-align:center;
}
.brand{
    font-weight: 800;
    letter-spacing: .6px;
    opacity: .92;
    font-size: 28px;
}
.panel__lead{
    margin:0;
    opacity:.90;
    font-size: 18px;
    line-height: 1.35;
}
.panel__text{ max-width: 260px; }

/* CARD 2 */
.page{
    height:100%;
    padding:30px 22px 22px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:space-between;
    gap: 16px;
}
.page__top{
    width:100%;
    /*display:flex;*/
    /*align-items:flex-start;*/
    /*justify-content:space-between;*/
    /*gap: 14px;*/
}
.page__logo{
    font-weight: 800;
    opacity:.92;
}
.page__title{
    text-align:center;
    opacity:.88;
    font-size: 18px;
    line-height: 1.25;
}

.mock{
    position:relative;
    width: min(420px, 92%);
    height: clamp(230px, 44vh, 360px);
    display:grid;
    place-items:center;
}

.mock__back{
    position:absolute;
    width: 78%;
    height: 90%;
    border-radius: 18px;
    background: rgba(0,0,0,0.35);
    border: 1px solid rgba(255,255,255,0.18);
    transform: rotate(-6deg) translateX(-8px);
    box-shadow: 0 20px 50px rgba(0,0,0,0.55);
}

.mock__paper{
    position:absolute;
    width: 72%;
    height: 96%;
    border-radius: 18px;
    background: rgba(255,255,255,0.82);
    border: 1px solid rgba(255,255,255,0.65);
    color:#131315;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    box-shadow: 0 26px 60px rgba(0,0,0,0.55);
}

.mock__paper-top{
    position:absolute;
    top:0;
    left:0;
    right:0;
    height: 40%;
    border-bottom: 1px solid rgba(0,0,0,0.16);
    border-radius: 18px 18px 40% 40%;
    opacity:.55;
}

.mock__paper-title{
    font-size: clamp(22px, 3.4vw, 34px);
    font-weight: 500;
    line-height: 1.05;
    text-align:center;
    z-index:1;
}
.mock__paper-footer{
    position:absolute;
    bottom: 14px;
    font-weight: 700;
    opacity:.8;
}

.badge{
    position:absolute;
    right: -6%;
    bottom: 12%;
    width: 120px;
    height: 140px;
    border-radius: 16px;
    background: rgba(255,255,255,0.92);
    color:#131315;
    box-shadow: 0 22px 55px rgba(0,0,0,0.55);
    border: 1px solid rgba(255,255,255,0.7);
    transform: rotate(10deg);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap: 10px;
    text-align:center;
    padding: 10px;
}
.badge__icon{
    width: 26px;
    height: 26px;
    border-radius: 999px;
    display:grid;
    place-items:center;
    border: 1px solid rgba(0,0,0,0.18);
}
.badge__text{
    font-size: 12px;
    line-height: 1.1;
    opacity:.9;
}

/* CARD 3 */
.final{
    height:100%;
    padding: 26px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    gap: 14px;
}
.final__title{
    font-size: clamp(22px, 3.6vw, 34px);
    font-weight: 800;
}
.final__text{
    margin:0;
    opacity:.88;
    max-width: 40ch;
    line-height:1.35;
}
.final__row{
    display:flex;
    flex-wrap:wrap;
    gap: 10px;
    margin-top: 10px;
}

/* низ */
.hint{
    margin-top: 14px;
    font-size: 12px;
    opacity:.65;
    text-align:center;
}

/* адаптив: бейдж внутрь, если экран узкий */
@media (max-width: 380px){
    .badge{
        right: 2%;
        transform: rotate(8deg) scale(.92);
    }
    .page__title{ font-size: 16px; }
}
